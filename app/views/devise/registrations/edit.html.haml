= provide(:title, "Edit #{resource_name.to_s.humanize}")
= provide(:headline, "Edit #{resource_name.to_s.humanize}")

= form_for resource, :validate => true, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put } do |f|
  %fieldset
    = render 'devise/shared/error_messages'
    .control-group
      .control-label= f.label :email
      .controls= f.email_field :email

    - if f.object.encrypted_password.present?
      .control-group
        .control-label= f.label :password
        %i (leave blank if you don't want to change it)
        .controls= f.password_field :password, :autocomplete => "off"
      .control-group
        .control-labels= f.label :password_confirmation
        .controls= f.password_field :password_confirmation
      .control-group
        .control-label= f.label :current_password
        %i (we need your current password to confirm your changes)
        .controls= f.password_field :current_password
      .form-actoins
        = f.submit "Update", class: "btn btn-large btn-primary"
        = render 'shared/back_button'

%h2 Cancel my account
%p
  Unhappy? #{link_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete}.